# 前言
因为 Ant Design Pro 使用 TypeScript 开发，对于习惯了JS的我有点不友好，各种提示报错，类型为定义等等。以及 DVA 数据流等，甚是头疼。

### DVA 数据流向使用
* model写法和之前差不多，不过因为引入了 TypeScript 所以需要定义 model 的类型，直接贴出代码：
```TypeScript
import { Reducer } from 'redux';
import { Effect } from './connect.d';
import { quertData } from '@/services/test';

export interface TestsModelState {
  dataResult?: any;
}

export interface TestsType {
  namespace: string;
  state: TestsModelState;
  effects: {
    getData: Effect;
  };
  reducers: {
    save: Reducer<{}>;
  };
}

const tests: TestsType = {
  namespace: 'tests',

  state: {
    dataResult: {},
  },

  effects: {
    * getData({ payload }, { put }) {
      const response = yield quertData(payload);
      console.log(response);
      yield put({
        type: 'save',
        payload: {
          dataResult: response,
        },
      });
    },
  },

  reducers: {
    save(state, { payload }) {
      console.log(payload);
      return {
        ...payload,
      };
    },
  },
};

export default tests;
```
可以看出来，model 属性还是这五个属性 名称：namespace，模型局部数据：state,异步：effects，同步保存：reducers，订阅：subscriptions。
写法差异主要是，数据格式的预先定义，这里简单的例子主要预先定义了，state的数据格式，以及总体的数据模型。

### VIEW + MODEL 联合使用
* 方法一：通过老办法在组件类上打注解形式使用
```typescript
@connect(({ tests, loading }: any) => ({
  tests,
  loading: loading.effects['tests/fetch'],
}))
class test extends Component{
    public componentDidMount: any = (): void => {
    const { dispatch } = this.props;
    if (dispatch) {
      dispatch({
        type: 'tests/getData',
        payload: 'do something...',
      });
    }
  };
}
```

* 方法二：修改 connect.d.ts 文件的抛出接口，将新的模型层对应属性添加进去
```typescript
import { AnyAction } from 'redux';
import { EffectsCommandMap } from 'dva';
import { MenuDataItem } from '@ant-design/pro-layout';
import { RouterTypes } from 'umi';
import { GlobalModelState } from './global';
import { DefaultSettings as SettingModelState } from '../../config/defaultSettings';
import { UserModelState } from './user';
import { TestsModelState } from './tests';

export { GlobalModelState, SettingModelState, UserModelState, TestsModelState };

export interface Loading {
  global: boolean;
  effects: { [key: string]: boolean | undefined };
  models: {
    global?: boolean;
    menu?: boolean;
    setting?: boolean;
    user?: boolean;
    tests?: boolean;
  };
}

export interface ConnectState {
  globxal: GlobalModelState;
  loading: Loading;
  settings: SettingModelState;
  user: UserModelState;
  tests: TestsModelState;
}

export type Effect = (
  action: AnyAction,
  effects: EffectsCommandMap & { select: <T>(func: (state: ConnectState) => T) => T },
) => void;

/**
 * @type P: Type of payload
 * @type C: Type of callback
 */
export type Dispatch = <P = any, C = (payload: P) => void>(action: {
  type: string;
  payload?: P;
  callback?: C;
  [key: string]: any;
}) => any;

export interface Route extends MenuDataItem {
  routes?: Route[];
}

/**
 * @type T: Params matched in dynamic routing
 */
export interface ConnectProps<T = {}> extends Partial<RouterTypes<Route, T>> {
  dispatch?: Dispatch;
}

```
* 然后在对应的所需要引入该model层的最后抛出类绑定该model
```typescript
interface TestComponentProps extends ConnectProps {
  dataResult?: TestsModelState;
}

export default connect(({ tests }: ConnectState) => ({
  dataResult: tests.dataResult,
}))(DragLayout);
```
重要的事说三遍 千万不要以为 connect.d.ts 文件抛出的时候，ConnectState 中的对象名可以乱定义，一定要与 model namespace 相同，否则引用model 的时候一定访问不到 state 中的数据，卡了我一天了，这个问题。
* ConnectState 中的对象名不能乱定义
* ConnectState 中的对象名不能乱定义
* ConnectState 中的对象名不能乱定义
* dva 中的寻找model,实际上是根据 namespace 去寻找并绑定，这个地方只是抛出一个数据定义的接口让，数据更加规范而已。
* 其实 ConnectState 就是一个接口，它只能预定义一部分数据类型格式，但是还是允许拥有其他的数据格式，毕竟是最后还是编译成JavaScript.
* 所以当实际model的namespace 与我们预定义中的 ConnectState 的名称不同的时候，当我们在使用 connect 连接方法时，它实际上去找的是，对应的实际的 model，所以当State接口中没有预定义，这个 model 也是有可能存在的。反过来我们去找 ConnectState 中预定义的，model,它这个model实际上不存在，所以会undefined。
* 以上文字描述可能有点虚。举个栗子：
```typescript
// model.js
const tests: TestsType = {
  namespace: 'tests',

  state: {},

  effects: {},

  reducers: {},
};


// connect.d.ts Connect 预定义的State
export interface ConnectState {
  test: TestsModelState;
}

export default connect(({ test }: ConnectState) => ({
  dataResult: test.dataResult,
}))(DragLayout);
```
* 由实际的 MODEL 中可知，是不存在 test 这个 model 的，但是ConnectState, 其实也就是一个接口格式化数据，这个 test 使我们预定义进去的，由以下可知：
<img src="data:image/png;base64,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">

* 然而我们在编写 TypeScript 时，它是按照接口定义（也就是理想中的状态）去提示我们开发者。
* 然而在程序运行中，它是根据实际情况去运行，所以就会出现这个问题。
* 都是坑啊，随然说 typescript 在开发前让我们强引用数据类型，使开发更加规范友好，但是使用不好，出现类似情况，错误还是很难找的，毕竟到最后还是编译成弱语言 javascript，不能总是考虑理想状态，偶尔还要切换实际状态，还是挺累的。
* 最后一句话，typescript： 兵器是把好兵器，在使用上是把双刃剑啊。如果在水平参差不齐的一群开发者中，联合开发，可能水平比较差的开发者使用起来，容易给其他开发者挖下的坑，会比使用纯 javascript 联合开发更深。
