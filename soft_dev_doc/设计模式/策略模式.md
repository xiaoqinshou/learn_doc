# 策略模式
[toc]

## 1. 分开变化和不会变化的属性
* 何为变化和不会变化的部分？  
1. 鸭子，由鸭子的属性可知，外观，叫声，飞行，游泳等特性。  
其中鸭子的外观确定之后基本是不会变化的。  
其中野鸭会飞，家鸭不会飞，玩具鸭也不会飞，木鸭不会叫，铁鸭，石头鸭甚至不会游泳。  
所以此部分需要拆开设计不同鸭子不同所对应不同的属性
2. 电视，由电视的属性可知，分辨率，电视屏幕尺寸，音响，内置安装软件，打开，关闭等特性。
其中明确不可变的电视的屏幕尺寸，打开，关闭属性。
其中分辨率可根据电视属性进行调节不同的分辨率，音响也可以通过外接或者更换不同的音响取代原本内置音响，内置的安装软件也可以卸载重新安装不同的收视软件。
也需要拆分出不可变的属性，以及可变属性。


## 2. 设计变化属性的不同行为
* 如何设计变化属性的不同行为？
例如：  
1.1中鸭子的属性，可以抽象出三个行为不相同的相同属性，对应不同的叫喊行为，飞行行为，以及游泳行为。  
1.2中电视的属性，可以抽象出三个行为不相同的相同属性，对应不同的分辨率属性，音响属性，软件属性。

## 3. 实现变化属性的不同行为
* 如何实现变化属性的不同行为？
1. 设计好对应的相同属性，只要接口实现相同属性的不同的实际行为即可
  
||飞行行为|叫喊行为|游泳行为|
|:-:|:-:|:-:|:-:|
|野鸭|T|嘎嘎叫|T|
|家鸭|F|呱呱叫|T|
|玩具鸭|F|吱吱叫|T|
|木鸭|F|F|T|
|铁鸭/石头鸭|F|F|F|

||分辨率|音响|收视软件|
|:-:|:-:|:-:|:-:|
|液晶电视|最高支持分辨率1980*1024|内置杜比音响|云OS|
|显像管电视|最高支持分辨率1280*800|外接音响|收视天线|

以上仅仅只是相同属性的不同行为而已。

## 4. 整合变化属性的不同行为
* 不同的行为对应相同的属性，此属性依旧是对象的特有属性之一。
1. 变化的属性依旧是对象的特有属性。
2. 变化的属性作为一个超类，会有很多对应的不同实际行为。

## 5. 动态设定内容的行为
* 加入setter方法随即改变变化属性，的不同行为。
1. 1.1中玩具鸭石头鸭，都是有可能会被人为因素所影响，而实现飞行，例如我把它们带上飞机，或者进行投掷等。
2. 1.2中电视机的分辨率，音响，软件属性等都是可以通过外界因素从而印象对象的实际属性产生变化。

## 6. 封装行为的大局观
* 例1.1：
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="431px" preserveAspectRatio="none" style="width:1246px;height:431px;" version="1.1" viewBox="0 0 1246 431" width="1246px" zoomAndPan="magnify"><defs><filter height="300%" id="f12eejsw1u8hvo" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="114" x="570" y="16.708">"Duck属性图"</text><!--class Duck--><rect fill="#FEFECE" filter="url(#f12eejsw1u8hvo)" height="150.4375" id="Duck" style="stroke: #A80036; stroke-width: 1.5;" width="184" x="388.5" y="28.9531"/><ellipse cx="460.75" cy="44.9531" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M462.3281,46.7656 L458.2813,46.7656 L457.8906,47.75 L458.2813,47.75 C458.7344,47.75 458.875,47.7813 459.0469,47.9063 C459.2656,48.0781 459.3906,48.3281 459.3906,48.6094 C459.3906,48.8906 459.25,49.1875 458.9844,49.3281 C458.8594,49.4219 458.6406,49.4531 458.2813,49.4531 L456.0156,49.4531 C455.2656,49.4531 454.8906,49.1719 454.8906,48.6094 C454.8906,48.3125 455.0469,48.0313 455.2969,47.875 C455.4531,47.7656 455.6094,47.75 456.0313,47.75 L458.6719,41.2344 L457.5938,41.2344 C457.1563,41.2344 456.9844,41.2031 456.8125,41.0938 C456.5938,40.9219 456.4531,40.6719 456.4531,40.3906 C456.4531,40.1094 456.6094,39.8281 456.8594,39.6563 C457.0156,39.5625 457.1406,39.5469 457.5938,39.5469 L461.2656,39.5469 L464.6563,47.75 C465.125,47.75 465.2813,47.7813 465.4531,47.9219 C465.6719,48.0781 465.8125,48.3281 465.8125,48.6094 C465.8125,48.8906 465.6563,49.1875 465.4063,49.3281 C465.2656,49.4219 465.0469,49.4531 464.6875,49.4531 L462.3281,49.4531 C461.9063,49.4531 461.7031,49.4063 461.5625,49.2813 C461.3438,49.125 461.2031,48.875 461.2031,48.6094 C461.2031,48.3125 461.3594,48.0313 461.6094,47.875 C461.7656,47.7656 461.875,47.75 462.3281,47.75 L462.7188,47.75 Z M461.625,45.0625 L460.2969,41.7969 L458.9531,45.0625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="31" x="481.25" y="49.1074">Duck</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="389.5" x2="571.5" y1="60.9531" y2="60.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="132" x="394.5" y="75.1636">FlyBehavior flyBehavior</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="172" x="394.5" y="87.9683">QuackBehavior quackBehavior</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="389.5" x2="571.5" y1="94.5625" y2="94.5625"/><ellipse cx="399.5" cy="106.4648" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="34" x="408.5" y="108.7729">swin()</text><ellipse cx="399.5" cy="119.2695" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="48" x="408.5" y="121.5776">display()</text><ellipse cx="399.5" cy="132.0742" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="408.5" y="134.3823">performFly()</text><ellipse cx="399.5" cy="144.8789" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="89" x="408.5" y="147.187">performQuack()</text><ellipse cx="399.5" cy="157.6836" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="408.5" y="159.9917">setFlyBehavior()</text><ellipse cx="399.5" cy="170.4883" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="111" x="408.5" y="172.7964">setQuackBehavior()</text><!--class MallardDuck--><rect fill="#FEFECE" filter="url(#f12eejsw1u8hvo)" height="60.8047" id="MallardDuck" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="6" y="238.9531"/><ellipse cx="30.45" cy="254.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M32.7938,250.625 L32.9656,250.7031 C33.1844,250.3906 33.3875,250.2969 33.6844,250.2969 C33.9813,250.2969 34.2625,250.4375 34.4188,250.7031 C34.5125,250.8594 34.5281,250.9844 34.5281,251.4219 L34.5281,252.8438 C34.5281,253.2656 34.4969,253.4531 34.3875,253.6094 C34.2156,253.8281 33.95,253.9688 33.6844,253.9688 C33.4656,253.9688 33.2313,253.8594 33.0906,253.7188 C32.95,253.5938 32.9188,253.4688 32.8563,253.0625 C32.7625,252.6563 32.5906,252.4375 32.1063,252.1563 C31.6375,251.9063 31.0281,251.75 30.45,251.75 C28.7156,251.75 27.4656,253.0625 27.4656,254.8438 L27.4656,255.9375 C27.4656,257.6406 28.7625,258.7344 30.8094,258.7344 C31.575,258.7344 32.2625,258.6094 32.6844,258.3438 C32.8719,258.25 32.8719,258.25 33.325,257.7656 C33.5125,257.5781 33.7156,257.5 33.9344,257.5 C34.4031,257.5 34.7938,257.8906 34.7938,258.3438 C34.7938,258.7344 34.4656,259.1875 33.8875,259.5938 C33.1375,260.1406 31.9813,260.4375 30.7625,260.4375 C27.8719,260.4375 25.7625,258.5469 25.7625,255.9688 L25.7625,254.8438 C25.7625,252.125 27.7625,250.0469 30.3875,250.0469 C31.2625,250.0469 31.8563,250.1875 32.7938,250.625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="46.55" y="259.1074">MallardDuck</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="134" y1="270.9531" y2="270.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="134" y1="278.9531" y2="278.9531"/><ellipse cx="17" cy="290.8555" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="26" y="293.1636">dispaly(){//绿头鸭}</text><!--class RedheadDuck--><rect fill="#FEFECE" filter="url(#f12eejsw1u8hvo)" height="60.8047" id="RedheadDuck" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="170" y="238.9531"/><ellipse cx="189.5" cy="254.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M191.8438,250.625 L192.0156,250.7031 C192.2344,250.3906 192.4375,250.2969 192.7344,250.2969 C193.0313,250.2969 193.3125,250.4375 193.4688,250.7031 C193.5625,250.8594 193.5781,250.9844 193.5781,251.4219 L193.5781,252.8438 C193.5781,253.2656 193.5469,253.4531 193.4375,253.6094 C193.2656,253.8281 193,253.9688 192.7344,253.9688 C192.5156,253.9688 192.2813,253.8594 192.1406,253.7188 C192,253.5938 191.9688,253.4688 191.9063,253.0625 C191.8125,252.6563 191.6406,252.4375 191.1563,252.1563 C190.6875,251.9063 190.0781,251.75 189.5,251.75 C187.7656,251.75 186.5156,253.0625 186.5156,254.8438 L186.5156,255.9375 C186.5156,257.6406 187.8125,258.7344 189.8594,258.7344 C190.625,258.7344 191.3125,258.6094 191.7344,258.3438 C191.9219,258.25 191.9219,258.25 192.375,257.7656 C192.5625,257.5781 192.7656,257.5 192.9844,257.5 C193.4531,257.5 193.8438,257.8906 193.8438,258.3438 C193.8438,258.7344 193.5156,259.1875 192.9375,259.5938 C192.1875,260.1406 191.0313,260.4375 189.8125,260.4375 C186.9219,260.4375 184.8125,258.5469 184.8125,255.9688 L184.8125,254.8438 C184.8125,252.125 186.8125,250.0469 189.4375,250.0469 C190.3125,250.0469 190.9063,250.1875 191.8438,250.625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="87" x="204.5" y="259.1074">RedheadDuck</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="171" x2="298" y1="270.9531" y2="270.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="171" x2="298" y1="278.9531" y2="278.9531"/><ellipse cx="181" cy="290.8555" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="190" y="293.1636">dispaly(){//红头鸭}</text><!--class RubberDuck--><rect fill="#FEFECE" filter="url(#f12eejsw1u8hvo)" height="60.8047" id="RubberDuck" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="334" y="238.9531"/><ellipse cx="358.45" cy="254.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M360.7938,250.625 L360.9656,250.7031 C361.1844,250.3906 361.3875,250.2969 361.6844,250.2969 C361.9813,250.2969 362.2625,250.4375 362.4188,250.7031 C362.5125,250.8594 362.5281,250.9844 362.5281,251.4219 L362.5281,252.8438 C362.5281,253.2656 362.4969,253.4531 362.3875,253.6094 C362.2156,253.8281 361.95,253.9688 361.6844,253.9688 C361.4656,253.9688 361.2313,253.8594 361.0906,253.7188 C360.95,253.5938 360.9188,253.4688 360.8563,253.0625 C360.7625,252.6563 360.5906,252.4375 360.1063,252.1563 C359.6375,251.9063 359.0281,251.75 358.45,251.75 C356.7156,251.75 355.4656,253.0625 355.4656,254.8438 L355.4656,255.9375 C355.4656,257.6406 356.7625,258.7344 358.8094,258.7344 C359.575,258.7344 360.2625,258.6094 360.6844,258.3438 C360.8719,258.25 360.8719,258.25 361.325,257.7656 C361.5125,257.5781 361.7156,257.5 361.9344,257.5 C362.4031,257.5 362.7938,257.8906 362.7938,258.3438 C362.7938,258.7344 362.4656,259.1875 361.8875,259.5938 C361.1375,260.1406 359.9813,260.4375 358.7625,260.4375 C355.8719,260.4375 353.7625,258.5469 353.7625,255.9688 L353.7625,254.8438 C353.7625,252.125 355.7625,250.0469 358.3875,250.0469 C359.2625,250.0469 359.8563,250.1875 360.7938,250.625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="374.55" y="259.1074">RubberDuck</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="335" x2="462" y1="270.9531" y2="270.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="335" x2="462" y1="278.9531" y2="278.9531"/><ellipse cx="345" cy="290.8555" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="354" y="293.1636">dispaly(){//橡皮鸭}</text><!--class DecoyDuck--><rect fill="#FEFECE" filter="url(#f12eejsw1u8hvo)" height="60.8047" id="DecoyDuck" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="498" y="238.9531"/><ellipse cx="525.6" cy="254.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M527.9438,250.625 L528.1156,250.7031 C528.3344,250.3906 528.5375,250.2969 528.8344,250.2969 C529.1313,250.2969 529.4125,250.4375 529.5688,250.7031 C529.6625,250.8594 529.6781,250.9844 529.6781,251.4219 L529.6781,252.8438 C529.6781,253.2656 529.6469,253.4531 529.5375,253.6094 C529.3656,253.8281 529.1,253.9688 528.8344,253.9688 C528.6156,253.9688 528.3813,253.8594 528.2406,253.7188 C528.1,253.5938 528.0688,253.4688 528.0063,253.0625 C527.9125,252.6563 527.7406,252.4375 527.2563,252.1563 C526.7875,251.9063 526.1781,251.75 525.6,251.75 C523.8656,251.75 522.6156,253.0625 522.6156,254.8438 L522.6156,255.9375 C522.6156,257.6406 523.9125,258.7344 525.9594,258.7344 C526.725,258.7344 527.4125,258.6094 527.8344,258.3438 C528.0219,258.25 528.0219,258.25 528.475,257.7656 C528.6625,257.5781 528.8656,257.5 529.0844,257.5 C529.5531,257.5 529.9438,257.8906 529.9438,258.3438 C529.9438,258.7344 529.6156,259.1875 529.0375,259.5938 C528.2875,260.1406 527.1313,260.4375 525.9125,260.4375 C523.0219,260.4375 520.9125,258.5469 520.9125,255.9688 L520.9125,254.8438 C520.9125,252.125 522.9125,250.0469 525.5375,250.0469 C526.4125,250.0469 527.0063,250.1875 527.9438,250.625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="69" x="542.4" y="259.1074">DecoyDuck</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="499" x2="626" y1="270.9531" y2="270.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="499" x2="626" y1="278.9531" y2="278.9531"/><ellipse cx="509" cy="290.8555" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="518" y="293.1636">dispaly(){//诱饵鸭}</text><!--class FlyBehavior--><rect fill="#FEFECE" filter="url(#f12eejsw1u8hvo)" height="60.8047" id="FlyBehavior" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="662" y="238.9531"/><ellipse cx="677" cy="254.9531" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M677.9531,251.7344 L677.9531,258.25 L679.6719,258.25 C680.125,258.25 680.2656,258.2813 680.4375,258.4063 C680.6719,258.5781 680.7813,258.8281 680.7813,259.1094 C680.7813,259.6719 680.4219,259.9531 679.6719,259.9531 L674.5313,259.9531 C674.125,259.9531 673.9219,259.9063 673.7656,259.7813 C673.5469,259.625 673.4063,259.3594 673.4063,259.1094 C673.4063,258.8125 673.5625,258.5313 673.8125,258.375 C673.9688,258.2656 674.0938,258.25 674.5313,258.25 L676.25,258.25 L676.25,251.7344 L674.5313,251.7344 C674.1094,251.7344 673.9219,251.7031 673.7656,251.5938 C673.5469,251.4219 673.4063,251.1719 673.4063,250.8906 C673.4063,250.6094 673.5625,250.3125 673.8125,250.1563 C673.9688,250.0625 674.0938,250.0469 674.5313,250.0469 L679.6719,250.0469 C680.125,250.0469 680.2656,250.0781 680.4375,250.1875 C680.6719,250.3594 680.7813,250.625 680.7813,250.8906 C680.7813,251.1875 680.6406,251.4688 680.375,251.625 C680.25,251.7031 680.0625,251.7344 679.6719,251.7344 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="71" x="691" y="259.1074">FlyBehavior</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="663" x2="764" y1="270.9531" y2="270.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="663" x2="764" y1="278.9531" y2="278.9531"/><ellipse cx="673" cy="290.8555" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="682" y="293.1636">fly()</text><!--class QuackBehavior--><rect fill="#FEFECE" filter="url(#f12eejsw1u8hvo)" height="60.8047" id="QuackBehavior" style="stroke: #A80036; stroke-width: 1.5;" width="124" x="878.5" y="238.9531"/><ellipse cx="893.5" cy="254.9531" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M894.4531,251.7344 L894.4531,258.25 L896.1719,258.25 C896.625,258.25 896.7656,258.2813 896.9375,258.4063 C897.1719,258.5781 897.2813,258.8281 897.2813,259.1094 C897.2813,259.6719 896.9219,259.9531 896.1719,259.9531 L891.0313,259.9531 C890.625,259.9531 890.4219,259.9063 890.2656,259.7813 C890.0469,259.625 889.9063,259.3594 889.9063,259.1094 C889.9063,258.8125 890.0625,258.5313 890.3125,258.375 C890.4688,258.2656 890.5938,258.25 891.0313,258.25 L892.75,258.25 L892.75,251.7344 L891.0313,251.7344 C890.6094,251.7344 890.4219,251.7031 890.2656,251.5938 C890.0469,251.4219 889.9063,251.1719 889.9063,250.8906 C889.9063,250.6094 890.0625,250.3125 890.3125,250.1563 C890.4688,250.0625 890.5938,250.0469 891.0313,250.0469 L896.1719,250.0469 C896.625,250.0469 896.7656,250.0781 896.9375,250.1875 C897.1719,250.3594 897.2813,250.625 897.2813,250.8906 C897.2813,251.1875 897.1406,251.4688 896.875,251.625 C896.75,251.7031 896.5625,251.7344 896.1719,251.7344 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="92" x="907.5" y="259.1074">QuackBehavior</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="879.5" x2="1001.5" y1="270.9531" y2="270.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="879.5" x2="1001.5" y1="278.9531" y2="278.9531"/><ellipse cx="889.5" cy="290.8555" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="41" x="898.5" y="293.1636">quack()</text><!--class FlyWithWings--><rect fill="#FEFECE" filter="url(#f12eejsw1u8hvo)" height="60.8047" id="FlyWithWings" style="stroke: #A80036; stroke-width: 1.5;" width="112" x="515.5" y="359.9531"/><ellipse cx="530.5" cy="375.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M532.8438,371.625 L533.0156,371.7031 C533.2344,371.3906 533.4375,371.2969 533.7344,371.2969 C534.0313,371.2969 534.3125,371.4375 534.4688,371.7031 C534.5625,371.8594 534.5781,371.9844 534.5781,372.4219 L534.5781,373.8438 C534.5781,374.2656 534.5469,374.4531 534.4375,374.6094 C534.2656,374.8281 534,374.9688 533.7344,374.9688 C533.5156,374.9688 533.2813,374.8594 533.1406,374.7188 C533,374.5938 532.9688,374.4688 532.9063,374.0625 C532.8125,373.6563 532.6406,373.4375 532.1563,373.1563 C531.6875,372.9063 531.0781,372.75 530.5,372.75 C528.7656,372.75 527.5156,374.0625 527.5156,375.8438 L527.5156,376.9375 C527.5156,378.6406 528.8125,379.7344 530.8594,379.7344 C531.625,379.7344 532.3125,379.6094 532.7344,379.3438 C532.9219,379.25 532.9219,379.25 533.375,378.7656 C533.5625,378.5781 533.7656,378.5 533.9844,378.5 C534.4531,378.5 534.8438,378.8906 534.8438,379.3438 C534.8438,379.7344 534.5156,380.1875 533.9375,380.5938 C533.1875,381.1406 532.0313,381.4375 530.8125,381.4375 C527.9219,381.4375 525.8125,379.5469 525.8125,376.9688 L525.8125,375.8438 C525.8125,373.125 527.8125,371.0469 530.4375,371.0469 C531.3125,371.0469 531.9063,371.1875 532.8438,371.625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="544.5" y="380.1074">FlyWithWings</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="516.5" x2="626.5" y1="391.9531" y2="391.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="516.5" x2="626.5" y1="399.9531" y2="399.9531"/><ellipse cx="526.5" cy="411.8555" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="535.5" y="414.1636">fly(){//会飞}</text><!--class FlyNoWay--><rect fill="#FEFECE" filter="url(#f12eejsw1u8hvo)" height="60.8047" id="FlyNoWay" style="stroke: #A80036; stroke-width: 1.5;" width="102" x="662.5" y="359.9531"/><ellipse cx="682.9" cy="375.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M685.2438,371.625 L685.4156,371.7031 C685.6344,371.3906 685.8375,371.2969 686.1344,371.2969 C686.4313,371.2969 686.7125,371.4375 686.8688,371.7031 C686.9625,371.8594 686.9781,371.9844 686.9781,372.4219 L686.9781,373.8438 C686.9781,374.2656 686.9469,374.4531 686.8375,374.6094 C686.6656,374.8281 686.4,374.9688 686.1344,374.9688 C685.9156,374.9688 685.6813,374.8594 685.5406,374.7188 C685.4,374.5938 685.3688,374.4688 685.3063,374.0625 C685.2125,373.6563 685.0406,373.4375 684.5563,373.1563 C684.0875,372.9063 683.4781,372.75 682.9,372.75 C681.1656,372.75 679.9156,374.0625 679.9156,375.8438 L679.9156,376.9375 C679.9156,378.6406 681.2125,379.7344 683.2594,379.7344 C684.025,379.7344 684.7125,379.6094 685.1344,379.3438 C685.3219,379.25 685.3219,379.25 685.775,378.7656 C685.9625,378.5781 686.1656,378.5 686.3844,378.5 C686.8531,378.5 687.2438,378.8906 687.2438,379.3438 C687.2438,379.7344 686.9156,380.1875 686.3375,380.5938 C685.5875,381.1406 684.4313,381.4375 683.2125,381.4375 C680.3219,381.4375 678.2125,379.5469 678.2125,376.9688 L678.2125,375.8438 C678.2125,373.125 680.2125,371.0469 682.8375,371.0469 C683.7125,371.0469 684.3063,371.1875 685.2438,371.625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="58" x="698.1" y="380.1074">FlyNoWay</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="663.5" x2="763.5" y1="391.9531" y2="391.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="663.5" x2="763.5" y1="399.9531" y2="399.9531"/><ellipse cx="673.5" cy="411.8555" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="76" x="682.5" y="414.1636">fly(){//不会飞}</text><!--class Quack--><rect fill="#FEFECE" filter="url(#f12eejsw1u8hvo)" height="60.8047" id="Quack" style="stroke: #A80036; stroke-width: 1.5;" width="122" x="799.5" y="359.9531"/><ellipse cx="837.45" cy="375.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M839.7938,371.625 L839.9656,371.7031 C840.1844,371.3906 840.3875,371.2969 840.6844,371.2969 C840.9813,371.2969 841.2625,371.4375 841.4188,371.7031 C841.5125,371.8594 841.5281,371.9844 841.5281,372.4219 L841.5281,373.8438 C841.5281,374.2656 841.4969,374.4531 841.3875,374.6094 C841.2156,374.8281 840.95,374.9688 840.6844,374.9688 C840.4656,374.9688 840.2313,374.8594 840.0906,374.7188 C839.95,374.5938 839.9188,374.4688 839.8563,374.0625 C839.7625,373.6563 839.5906,373.4375 839.1063,373.1563 C838.6375,372.9063 838.0281,372.75 837.45,372.75 C835.7156,372.75 834.4656,374.0625 834.4656,375.8438 L834.4656,376.9375 C834.4656,378.6406 835.7625,379.7344 837.8094,379.7344 C838.575,379.7344 839.2625,379.6094 839.6844,379.3438 C839.8719,379.25 839.8719,379.25 840.325,378.7656 C840.5125,378.5781 840.7156,378.5 840.9344,378.5 C841.4031,378.5 841.7938,378.8906 841.7938,379.3438 C841.7938,379.7344 841.4656,380.1875 840.8875,380.5938 C840.1375,381.1406 838.9813,381.4375 837.7625,381.4375 C834.8719,381.4375 832.7625,379.5469 832.7625,376.9688 L832.7625,375.8438 C832.7625,373.125 834.7625,371.0469 837.3875,371.0469 C838.2625,371.0469 838.8563,371.1875 839.7938,371.625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="39" x="856.55" y="380.1074">Quack</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="800.5" x2="920.5" y1="391.9531" y2="391.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="800.5" x2="920.5" y1="399.9531" y2="399.9531"/><ellipse cx="810.5" cy="411.8555" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="819.5" y="414.1636">quack(){//呱呱叫}</text><!--class Squeak--><rect fill="#FEFECE" filter="url(#f12eejsw1u8hvo)" height="60.8047" id="Squeak" style="stroke: #A80036; stroke-width: 1.5;" width="122" x="956.5" y="359.9531"/><ellipse cx="990.85" cy="375.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M993.1938,371.625 L993.3656,371.7031 C993.5844,371.3906 993.7875,371.2969 994.0844,371.2969 C994.3813,371.2969 994.6625,371.4375 994.8188,371.7031 C994.9125,371.8594 994.9281,371.9844 994.9281,372.4219 L994.9281,373.8438 C994.9281,374.2656 994.8969,374.4531 994.7875,374.6094 C994.6156,374.8281 994.35,374.9688 994.0844,374.9688 C993.8656,374.9688 993.6313,374.8594 993.4906,374.7188 C993.35,374.5938 993.3188,374.4688 993.2563,374.0625 C993.1625,373.6563 992.9906,373.4375 992.5063,373.1563 C992.0375,372.9063 991.4281,372.75 990.85,372.75 C989.1156,372.75 987.8656,374.0625 987.8656,375.8438 L987.8656,376.9375 C987.8656,378.6406 989.1625,379.7344 991.2094,379.7344 C991.975,379.7344 992.6625,379.6094 993.0844,379.3438 C993.2719,379.25 993.2719,379.25 993.725,378.7656 C993.9125,378.5781 994.1156,378.5 994.3344,378.5 C994.8031,378.5 995.1938,378.8906 995.1938,379.3438 C995.1938,379.7344 994.8656,380.1875 994.2875,380.5938 C993.5375,381.1406 992.3813,381.4375 991.1625,381.4375 C988.2719,381.4375 986.1625,379.5469 986.1625,376.9688 L986.1625,375.8438 C986.1625,373.125 988.1625,371.0469 990.7875,371.0469 C991.6625,371.0469 992.2563,371.1875 993.1938,371.625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="47" x="1009.15" y="380.1074">Squeak</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="957.5" x2="1077.5" y1="391.9531" y2="391.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="957.5" x2="1077.5" y1="399.9531" y2="399.9531"/><ellipse cx="967.5" cy="411.8555" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="976.5" y="414.1636">quack(){//吱吱叫}</text><!--class MuteQuack--><rect fill="#FEFECE" filter="url(#f12eejsw1u8hvo)" height="60.8047" id="MuteQuack" style="stroke: #A80036; stroke-width: 1.5;" width="122" x="1113.5" y="359.9531"/><ellipse cx="1137.5" cy="375.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1139.8438,371.625 L1140.0156,371.7031 C1140.2344,371.3906 1140.4375,371.2969 1140.7344,371.2969 C1141.0313,371.2969 1141.3125,371.4375 1141.4688,371.7031 C1141.5625,371.8594 1141.5781,371.9844 1141.5781,372.4219 L1141.5781,373.8438 C1141.5781,374.2656 1141.5469,374.4531 1141.4375,374.6094 C1141.2656,374.8281 1141,374.9688 1140.7344,374.9688 C1140.5156,374.9688 1140.2813,374.8594 1140.1406,374.7188 C1140,374.5938 1139.9688,374.4688 1139.9063,374.0625 C1139.8125,373.6563 1139.6406,373.4375 1139.1563,373.1563 C1138.6875,372.9063 1138.0781,372.75 1137.5,372.75 C1135.7656,372.75 1134.5156,374.0625 1134.5156,375.8438 L1134.5156,376.9375 C1134.5156,378.6406 1135.8125,379.7344 1137.8594,379.7344 C1138.625,379.7344 1139.3125,379.6094 1139.7344,379.3438 C1139.9219,379.25 1139.9219,379.25 1140.375,378.7656 C1140.5625,378.5781 1140.7656,378.5 1140.9844,378.5 C1141.4531,378.5 1141.8438,378.8906 1141.8438,379.3438 C1141.8438,379.7344 1141.5156,380.1875 1140.9375,380.5938 C1140.1875,381.1406 1139.0313,381.4375 1137.8125,381.4375 C1134.9219,381.4375 1132.8125,379.5469 1132.8125,376.9688 L1132.8125,375.8438 C1132.8125,373.125 1134.8125,371.0469 1137.4375,371.0469 C1138.3125,371.0469 1138.9063,371.1875 1139.8438,371.625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="70" x="1153.5" y="380.1074">MuteQuack</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1114.5" x2="1234.5" y1="391.9531" y2="391.9531"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1114.5" x2="1234.5" y1="399.9531" y2="399.9531"/><ellipse cx="1124.5" cy="411.8555" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="96" x="1133.5" y="414.1636">quack(){//不会叫}</text><!--class DuckCall--><rect fill="#FEFECE" filter="url(#f12eejsw1u8hvo)" height="60.8047" id="DuckCall" style="stroke: #A80036; stroke-width: 1.5;" width="184" x="848.5" y="73.4531"/><ellipse cx="909.75" cy="89.4531" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M912.0938,85.125 L912.2656,85.2031 C912.4844,84.8906 912.6875,84.7969 912.9844,84.7969 C913.2813,84.7969 913.5625,84.9375 913.7188,85.2031 C913.8125,85.3594 913.8281,85.4844 913.8281,85.9219 L913.8281,87.3438 C913.8281,87.7656 913.7969,87.9531 913.6875,88.1094 C913.5156,88.3281 913.25,88.4688 912.9844,88.4688 C912.7656,88.4688 912.5313,88.3594 912.3906,88.2188 C912.25,88.0938 912.2188,87.9688 912.1563,87.5625 C912.0625,87.1563 911.8906,86.9375 911.4063,86.6563 C910.9375,86.4063 910.3281,86.25 909.75,86.25 C908.0156,86.25 906.7656,87.5625 906.7656,89.3438 L906.7656,90.4375 C906.7656,92.1406 908.0625,93.2344 910.1094,93.2344 C910.875,93.2344 911.5625,93.1094 911.9844,92.8438 C912.1719,92.75 912.1719,92.75 912.625,92.2656 C912.8125,92.0781 913.0156,92 913.2344,92 C913.7031,92 914.0938,92.3906 914.0938,92.8438 C914.0938,93.2344 913.7656,93.6875 913.1875,94.0938 C912.4375,94.6406 911.2813,94.9375 910.0625,94.9375 C907.1719,94.9375 905.0625,93.0469 905.0625,90.4688 L905.0625,89.3438 C905.0625,86.625 907.0625,84.5469 909.6875,84.5469 C910.5625,84.5469 911.1563,84.6875 912.0938,85.125 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="53" x="930.25" y="93.6074">DuckCall</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="849.5" x2="1031.5" y1="105.4531" y2="105.4531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="172" x="854.5" y="119.6636">QuackBehavior quackBehavior</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="849.5" x2="1031.5" y1="126.2578" y2="126.2578"/><!--link DuckCall to QuackBehavior--><path d="M940.5,134.5621 C940.5,162.3701 940.5,203.9951 940.5,233.4391 " fill="none" id="DuckCall-QuackBehavior" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="940.5,238.7891,944.5,229.7891,940.5,233.7891,936.5,229.7891,940.5,238.7891" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Duck to FlyBehavior--><path d="M572.588,169.5731 C604.947,192.2791 639.937,216.8321 666.955,235.7921 " fill="none" id="Duck-FlyBehavior" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="671.221,238.7851,666.1507,230.3417,667.1279,235.9135,661.5561,236.8907,671.221,238.7851" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Duck to QuackBehavior--><path d="M572.758,137.7451 C661.555,169.3061 793.718,216.2811 873.066,244.4841 " fill="none" id="Duck-QuackBehavior" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="878.215,246.3151,871.0758,239.5305,873.5041,244.6396,868.395,247.0679,878.215,246.3151" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Duck to MallardDuck--><path d="M369.887,149.0631 C294.758,179.0231 197.991,217.6121 135.12,242.6841 " fill="none" id="Duck-MallardDuck" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="367.318,142.5521,388.488,141.6461,372.504,155.5561,367.318,142.5521" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Duck to RedheadDuck--><path d="M371.346,177.5001 C338.797,199.1341 304.938,221.6381 279.042,238.8491 " fill="none" id="Duck-RedheadDuck" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="367.667,171.5401,388.199,166.3001,375.417,183.2001,367.667,171.5401" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Duck to RubberDuck--><path d="M434.135,197.4011 C426.631,212.3621 419.372,226.8361 413.385,238.7731 " fill="none" id="Duck-RubberDuck" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="428.115,193.7881,443.339,179.0491,440.63,200.0651,428.115,193.7881" style="stroke: #A80036; stroke-width: 1.0;"/><!--link Duck to DecoyDuck--><path d="M526.865,197.4011 C534.369,212.3621 541.628,226.8361 547.615,238.7731 " fill="none" id="Duck-DecoyDuck" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="520.37,200.0651,517.661,179.0491,532.885,193.7881,520.37,200.0651" style="stroke: #A80036; stroke-width: 1.0;"/><!--link FlyBehavior to FlyWithWings--><path d="M662.514,313.1811 C644.125,328.5912 623.785,345.6364 607.006,359.6978 " fill="none" id="FlyBehavior-FlyWithWings" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="658.209,307.6561,678.034,300.1751,667.201,318.3861,658.209,307.6561" style="stroke: #A80036; stroke-width: 1.0;"/><!--link FlyBehavior to FlyNoWay--><path d="M713.5,320.2821 C713.5,333.6879 713.5,347.767 713.5,359.6978 " fill="none" id="FlyBehavior-FlyNoWay" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="706.5,320.1751,713.5,300.1751,720.5,320.1751,706.5,320.1751" style="stroke: #A80036; stroke-width: 1.0;"/><!--link QuackBehavior to Quack--><path d="M909.244,316.9461 C899.577,331.3265 889.193,346.7727 880.504,359.6978 " fill="none" id="QuackBehavior-Quack" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="903.551,312.8671,920.519,300.1751,915.17,320.6781,903.551,312.8671" style="stroke: #A80036; stroke-width: 1.0;"/><!--link QuackBehavior to Squeak--><path d="M970.891,317.4201 C980.108,331.6657 989.975,346.9148 998.247,359.6978 " fill="none" id="QuackBehavior-Squeak" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="964.72,320.7691,959.732,300.1751,976.474,313.1631,964.72,320.7691" style="stroke: #A80036; stroke-width: 1.0;"/><!--link QuackBehavior to MuteQuack--><path d="M1016.56,309.1351 C1048.94,325.6015 1086.11,344.5022 1116.25,359.8304 " fill="none" id="QuackBehavior-MuteQuack" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="1013.3,315.3271,998.643,300.0221,1019.64,302.8481,1013.3,315.3271" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml
Title "Duck属性图"
abstract Duck {
FlyBehavior flyBehavior
QuackBehavior quackBehavior
+swin()
+display()
+performFly()
+performQuack()
+setFlyBehavior()
+setQuackBehavior()
}
class MallardDuck{
+dispaly(){//绿头鸭}
}
class RedheadDuck{
+dispaly(){//红头鸭}
}
class RubberDuck{
+dispaly(){//橡皮鸭}
}
class DecoyDuck{
+dispaly(){//诱饵鸭}
}
interface FlyBehavior{
+fly()
}
interface QuackBehavior{
+quack()
}
class FlyWithWings{
+fly(){//会飞}
}
class FlyNoWay{
+fly(){//不会飞}
}
class Quack{
+quack(){//呱呱叫}
}
class Squeak{
+quack(){//吱吱叫}
}
class MuteQuack{
+quack(){//不会叫}
}
class DuckCall{
QuackBehavior quackBehavior
}
DuckCall- ->QuackBehavior
Duck- ->FlyBehavior
Duck- ->QuackBehavior
Duck<|- - MallardDuck
Duck<|- - RedheadDuck
Duck<|- - RubberDuck
Duck<|- - DecoyDuck
FlyBehavior<|.. FlyWithWings
FlyBehavior<|.. FlyNoWay
QuackBehavior<|.. Quack
QuackBehavior<|.. Squeak
QuackBehavior<|.. MuteQuack
@enduml
--></g></svg>

## 7. 'IS-A'可能比'HAS-A'更好
* 当两个类或者多个类结合起来使用，这就是组合。
* 多用组合，少用继承。
1. 例6.1 就使用了3次组合  
Duck-FlyBehavior 组合出不同的鸭子不同的飞行行为
Duck-QuackBehavior 组合出不同的鸭子不同的叫喊行为
DuckCall-QuackBehavior 组合出不同的鸭鸣器不同的引诱声音