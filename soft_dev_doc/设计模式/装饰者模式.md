# 装饰者模式
* 将类的关系设计成乐高积木，形状不一（实现功能不同），互不影响干涉，又可以互相搭配出不同的形状（功能扩展），但又统称积木（拥有同一个超类）
[toc]

## 1.开放-关闭原则
* 目标类允许容易扩展，在不修改对应代码的情况下，就可搭配出新的行为。

## 2.装饰者模式
例如：
1. 拿一杯深培咖啡（这是一个对象）
2. 在加一份摩卡（这是一个装饰对象的装饰品）
3. 还有一份奶泡（这也是一个装饰对象的装饰品）  

把上面3步看做三块积木，实际的行为就是这三块积木拼凑而成的真正行为。

##3. 装饰者的工作原理
* 装饰者模式动态地将责任附加到对象上。若要扩展功能，装饰者提供了比继承更有弹性的替代方案。

<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="445px" preserveAspectRatio="none" style="width:626px;height:445px;" version="1.1" viewBox="0 0 626 445" width="626px" zoomAndPan="magnify"><defs><filter height="300%" id="f1a211i29g9lgz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class Component--><rect fill="#FEFECE" filter="url(#f1a211i29g9lgz)" height="73.6094" id="Component" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="239" y="8"/><ellipse cx="254" cy="24" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M254.9531,20.7813 L254.9531,27.2969 L256.6719,27.2969 C257.125,27.2969 257.2656,27.3281 257.4375,27.4531 C257.6719,27.625 257.7813,27.875 257.7813,28.1563 C257.7813,28.7188 257.4219,29 256.6719,29 L251.5313,29 C251.125,29 250.9219,28.9531 250.7656,28.8281 C250.5469,28.6719 250.4063,28.4063 250.4063,28.1563 C250.4063,27.8594 250.5625,27.5781 250.8125,27.4219 C250.9688,27.3125 251.0938,27.2969 251.5313,27.2969 L253.25,27.2969 L253.25,20.7813 L251.5313,20.7813 C251.1094,20.7813 250.9219,20.75 250.7656,20.6406 C250.5469,20.4688 250.4063,20.2188 250.4063,19.9375 C250.4063,19.6563 250.5625,19.3594 250.8125,19.2031 C250.9688,19.1094 251.0938,19.0938 251.5313,19.0938 L256.6719,19.0938 C257.125,19.0938 257.2656,19.125 257.4375,19.2344 C257.6719,19.4063 257.7813,19.6719 257.7813,19.9375 C257.7813,20.2344 257.6406,20.5156 257.375,20.6719 C257.25,20.75 257.0625,20.7813 256.6719,20.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="72" x="268" y="28.1543">Component</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="240" x2="342" y1="40" y2="40"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="240" x2="342" y1="48" y2="48"/><ellipse cx="250" cy="59.9023" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="259" y="62.2104">methodA()</text><ellipse cx="250" cy="72.707" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="259" y="75.0151">methodB()</text><!--class ConcreteComponent--><rect fill="#FEFECE" filter="url(#f1a211i29g9lgz)" height="86.4141" id="ConcreteComponent" style="stroke: #A80036; stroke-width: 1.5;" width="161" x="275.5" y="159"/><ellipse cx="290.5" cy="175" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M292.8438,170.6719 L293.0156,170.75 C293.2344,170.4375 293.4375,170.3438 293.7344,170.3438 C294.0313,170.3438 294.3125,170.4844 294.4688,170.75 C294.5625,170.9063 294.5781,171.0313 294.5781,171.4688 L294.5781,172.8906 C294.5781,173.3125 294.5469,173.5 294.4375,173.6563 C294.2656,173.875 294,174.0156 293.7344,174.0156 C293.5156,174.0156 293.2813,173.9063 293.1406,173.7656 C293,173.6406 292.9688,173.5156 292.9063,173.1094 C292.8125,172.7031 292.6406,172.4844 292.1563,172.2031 C291.6875,171.9531 291.0781,171.7969 290.5,171.7969 C288.7656,171.7969 287.5156,173.1094 287.5156,174.8906 L287.5156,175.9844 C287.5156,177.6875 288.8125,178.7813 290.8594,178.7813 C291.625,178.7813 292.3125,178.6563 292.7344,178.3906 C292.9219,178.2969 292.9219,178.2969 293.375,177.8125 C293.5625,177.625 293.7656,177.5469 293.9844,177.5469 C294.4531,177.5469 294.8438,177.9375 294.8438,178.3906 C294.8438,178.7813 294.5156,179.2344 293.9375,179.6406 C293.1875,180.1875 292.0313,180.4844 290.8125,180.4844 C287.9219,180.4844 285.8125,178.5938 285.8125,176.0156 L285.8125,174.8906 C285.8125,172.1719 287.8125,170.0938 290.4375,170.0938 C291.3125,170.0938 291.9063,170.2344 292.8438,170.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="129" x="304.5" y="179.1543">ConcreteComponent</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="276.5" x2="435.5" y1="191" y2="191"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="52" x="281.5" y="205.2104">//其他方法</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="276.5" x2="435.5" y1="211.8047" y2="211.8047"/><ellipse cx="286.5" cy="223.707" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="295.5" y="226.0151">methodA()</text><ellipse cx="286.5" cy="236.5117" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="295.5" y="238.8198">methodB()</text><!--class Decorator--><rect fill="#FEFECE" filter="url(#f1a211i29g9lgz)" height="86.4141" id="Decorator" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="145.5" y="159"/><ellipse cx="160.5" cy="175" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M162.8438,170.6719 L163.0156,170.75 C163.2344,170.4375 163.4375,170.3438 163.7344,170.3438 C164.0313,170.3438 164.3125,170.4844 164.4688,170.75 C164.5625,170.9063 164.5781,171.0313 164.5781,171.4688 L164.5781,172.8906 C164.5781,173.3125 164.5469,173.5 164.4375,173.6563 C164.2656,173.875 164,174.0156 163.7344,174.0156 C163.5156,174.0156 163.2813,173.9063 163.1406,173.7656 C163,173.6406 162.9688,173.5156 162.9063,173.1094 C162.8125,172.7031 162.6406,172.4844 162.1563,172.2031 C161.6875,171.9531 161.0781,171.7969 160.5,171.7969 C158.7656,171.7969 157.5156,173.1094 157.5156,174.8906 L157.5156,175.9844 C157.5156,177.6875 158.8125,178.7813 160.8594,178.7813 C161.625,178.7813 162.3125,178.6563 162.7344,178.3906 C162.9219,178.2969 162.9219,178.2969 163.375,177.8125 C163.5625,177.625 163.7656,177.5469 163.9844,177.5469 C164.4531,177.5469 164.8438,177.9375 164.8438,178.3906 C164.8438,178.7813 164.5156,179.2344 163.9375,179.6406 C163.1875,180.1875 162.0313,180.4844 160.8125,180.4844 C157.9219,180.4844 155.8125,178.5938 155.8125,176.0156 L155.8125,174.8906 C155.8125,172.1719 157.8125,170.0938 160.4375,170.0938 C161.3125,170.0938 161.9063,170.2344 162.8438,170.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="63" x="174.5" y="179.1543">Decorator</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="146.5" x2="239.5" y1="191" y2="191"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="52" x="151.5" y="205.2104">//其他方法</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="146.5" x2="239.5" y1="211.8047" y2="211.8047"/><ellipse cx="156.5" cy="223.707" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="165.5" y="226.0151">methodA()</text><ellipse cx="156.5" cy="236.5117" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="165.5" y="238.8198">methodB()</text><!--class ConcreteDecoratorA--><rect fill="#FEFECE" filter="url(#f1a211i29g9lgz)" height="112.0234" id="ConcreteDecoratorA" style="stroke: #A80036; stroke-width: 1.5;" width="170" x="6" y="322"/><ellipse cx="25.5" cy="338" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M27.8438,333.6719 L28.0156,333.75 C28.2344,333.4375 28.4375,333.3438 28.7344,333.3438 C29.0313,333.3438 29.3125,333.4844 29.4688,333.75 C29.5625,333.9063 29.5781,334.0313 29.5781,334.4688 L29.5781,335.8906 C29.5781,336.3125 29.5469,336.5 29.4375,336.6563 C29.2656,336.875 29,337.0156 28.7344,337.0156 C28.5156,337.0156 28.2813,336.9063 28.1406,336.7656 C28,336.6406 27.9688,336.5156 27.9063,336.1094 C27.8125,335.7031 27.6406,335.4844 27.1563,335.2031 C26.6875,334.9531 26.0781,334.7969 25.5,334.7969 C23.7656,334.7969 22.5156,336.1094 22.5156,337.8906 L22.5156,338.9844 C22.5156,340.6875 23.8125,341.7813 25.8594,341.7813 C26.625,341.7813 27.3125,341.6563 27.7344,341.3906 C27.9219,341.2969 27.9219,341.2969 28.375,340.8125 C28.5625,340.625 28.7656,340.5469 28.9844,340.5469 C29.4531,340.5469 29.8438,340.9375 29.8438,341.3906 C29.8438,341.7813 29.5156,342.2344 28.9375,342.6406 C28.1875,343.1875 27.0313,343.4844 25.8125,343.4844 C22.9219,343.4844 20.8125,341.5938 20.8125,339.0156 L20.8125,337.8906 C20.8125,335.1719 22.8125,333.0938 25.4375,333.0938 C26.3125,333.0938 26.9063,333.2344 27.8438,333.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="128" x="40.5" y="342.1543">ConcreteDecoratorA</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="175" y1="354" y2="354"/><ellipse cx="17" cy="365.9023" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="26" y="368.2104">Component wrappendObj</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="52" x="26" y="381.0151">//其他方法</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="175" y1="387.6094" y2="387.6094"/><ellipse cx="17" cy="399.5117" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="26" y="401.8198">methodA()</text><ellipse cx="17" cy="412.3164" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="26" y="414.6245">methodB()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="26" y="427.4292">newBehavior()</text><!--class ConcreteDecoratorB--><rect fill="#FEFECE" filter="url(#f1a211i29g9lgz)" height="112.0234" id="ConcreteDecoratorB" style="stroke: #A80036; stroke-width: 1.5;" width="170" x="211" y="322"/><ellipse cx="230.5" cy="338" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M232.8438,333.6719 L233.0156,333.75 C233.2344,333.4375 233.4375,333.3438 233.7344,333.3438 C234.0313,333.3438 234.3125,333.4844 234.4688,333.75 C234.5625,333.9063 234.5781,334.0313 234.5781,334.4688 L234.5781,335.8906 C234.5781,336.3125 234.5469,336.5 234.4375,336.6563 C234.2656,336.875 234,337.0156 233.7344,337.0156 C233.5156,337.0156 233.2813,336.9063 233.1406,336.7656 C233,336.6406 232.9688,336.5156 232.9063,336.1094 C232.8125,335.7031 232.6406,335.4844 232.1563,335.2031 C231.6875,334.9531 231.0781,334.7969 230.5,334.7969 C228.7656,334.7969 227.5156,336.1094 227.5156,337.8906 L227.5156,338.9844 C227.5156,340.6875 228.8125,341.7813 230.8594,341.7813 C231.625,341.7813 232.3125,341.6563 232.7344,341.3906 C232.9219,341.2969 232.9219,341.2969 233.375,340.8125 C233.5625,340.625 233.7656,340.5469 233.9844,340.5469 C234.4531,340.5469 234.8438,340.9375 234.8438,341.3906 C234.8438,341.7813 234.5156,342.2344 233.9375,342.6406 C233.1875,343.1875 232.0313,343.4844 230.8125,343.4844 C227.9219,343.4844 225.8125,341.5938 225.8125,339.0156 L225.8125,337.8906 C225.8125,335.1719 227.8125,333.0938 230.4375,333.0938 C231.3125,333.0938 231.9063,333.2344 232.8438,333.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="128" x="245.5" y="342.1543">ConcreteDecoratorB</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="212" x2="380" y1="354" y2="354"/><ellipse cx="222" cy="365.9023" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="144" x="231" y="368.2104">Component wrappendObj</text><ellipse cx="222" cy="378.707" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="231" y="381.0151">Object newState</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="52" x="231" y="393.8198">//其他方法</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="212" x2="380" y1="400.4141" y2="400.4141"/><ellipse cx="222" cy="412.3164" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="58" x="231" y="414.6245">methodA()</text><ellipse cx="222" cy="425.1211" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="59" x="231" y="427.4292">methodB()</text><!--link Component to ConcreteComponent--><path d="M314.019,100.892 C322.008,119.942 330.835,140.99 338.324,158.85 " fill="none" id="Component-ConcreteComponent" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="307.519,103.492,306.24,82.341,320.43,98.077,307.519,103.492" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="326" y="125.0669">直接扩展</text><!--link Component to Decorator--><path d="M257.238,99.4 C244.948,118.838 231.237,140.523 219.649,158.85 " fill="none" id="Component-Decorator" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="251.419,95.504,268.023,82.341,263.252,102.986,251.419,95.504" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="249" y="125.0669">直接扩展</text><!--link Decorator to ConcreteDecoratorA--><path d="M128.772,237.294 C115.345,247.577 102.8845,260.153 95,275 C87.4777,289.165 84.774,306.062 84.4221,321.989 " fill="none" id="Decorator-ConcreteDecoratorA" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="124.936,231.437,145.387,225.892,132.858,242.98,124.936,231.437" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="96" y="288.0669">装饰者有一个被装饰的实例</text><!--link Decorator to ConcreteDecoratorB--><path d="M247.676,261.139 C251.017,265.693 254.167,270.337 257,275 C265.761,289.421 273.144,306.143 279.048,321.823 " fill="none" id="Decorator-ConcreteDecoratorB" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="241.944,265.177,234.971,245.168,252.9,256.462,241.944,265.177" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="348" x="266" y="288.0669">装饰者有一个被装饰的实例，且可以扩展Component的状态</text><!--
@startuml
interface Component{
+methodA()
+methodB()
}
class ConcreteComponent{
+methodA()
+methodB()
//其他方法
}
class Decorator{
+methodA()
+methodB()
  //其他方法
}
class ConcreteDecoratorA{
+Component wrappendObj
+methodA()
+methodB()
newBehavior()
  //其他方法
}
class ConcreteDecoratorB{
+Component wrappendObj
+Object newState
+methodA()
+methodB()
  //其他方法
}
ConcreteComponent -up-|>Component:直接扩展
Decorator -up-|>Component:直接扩展
ConcreteDecoratorA -up-|>Decorator:装饰者有一个被装饰的实例
ConcreteDecoratorB -up-|>Decorator:装饰者有一个被装饰的实例，且可以扩展Component的状态
@enduml
--></g></svg>

## 4. 实践装饰者-Java I/O
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="342px" preserveAspectRatio="none" style="width:1174px;height:342px;" version="1.1" viewBox="0 0 1174 342" width="1174px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ikktum783ajs" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class InputStream--><rect fill="#FEFECE" filter="url(#f1ikktum783ajs)" height="48" id="InputStream" style="stroke: #A80036; stroke-width: 1.5;" width="110" x="717" y="8"/><ellipse cx="732" cy="24" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M732.9531,20.7813 L732.9531,27.2969 L734.6719,27.2969 C735.125,27.2969 735.2656,27.3281 735.4375,27.4531 C735.6719,27.625 735.7813,27.875 735.7813,28.1563 C735.7813,28.7188 735.4219,29 734.6719,29 L729.5313,29 C729.125,29 728.9219,28.9531 728.7656,28.8281 C728.5469,28.6719 728.4063,28.4063 728.4063,28.1563 C728.4063,27.8594 728.5625,27.5781 728.8125,27.4219 C728.9688,27.3125 729.0938,27.2969 729.5313,27.2969 L731.25,27.2969 L731.25,20.7813 L729.5313,20.7813 C729.1094,20.7813 728.9219,20.75 728.7656,20.6406 C728.5469,20.4688 728.4063,20.2188 728.4063,19.9375 C728.4063,19.6563 728.5625,19.3594 728.8125,19.2031 C728.9688,19.1094 729.0938,19.0938 729.5313,19.0938 L734.6719,19.0938 C735.125,19.0938 735.2656,19.125 735.4375,19.2344 C735.6719,19.4063 735.7813,19.6719 735.7813,19.9375 C735.7813,20.2344 735.6406,20.5156 735.375,20.6719 C735.25,20.75 735.0625,20.7813 734.6719,20.7813 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="78" x="746" y="28.1543">InputStream</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="718" x2="826" y1="40" y2="40"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="718" x2="826" y1="48" y2="48"/><!--class FileInputStream--><rect fill="#FEFECE" filter="url(#f1ikktum783ajs)" height="48" id="FileInputStream" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="611" y="139.5"/><ellipse cx="626" cy="155.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M628.3438,151.1719 L628.5156,151.25 C628.7344,150.9375 628.9375,150.8438 629.2344,150.8438 C629.5313,150.8438 629.8125,150.9844 629.9688,151.25 C630.0625,151.4063 630.0781,151.5313 630.0781,151.9688 L630.0781,153.3906 C630.0781,153.8125 630.0469,154 629.9375,154.1563 C629.7656,154.375 629.5,154.5156 629.2344,154.5156 C629.0156,154.5156 628.7813,154.4063 628.6406,154.2656 C628.5,154.1406 628.4688,154.0156 628.4063,153.6094 C628.3125,153.2031 628.1406,152.9844 627.6563,152.7031 C627.1875,152.4531 626.5781,152.2969 626,152.2969 C624.2656,152.2969 623.0156,153.6094 623.0156,155.3906 L623.0156,156.4844 C623.0156,158.1875 624.3125,159.2813 626.3594,159.2813 C627.125,159.2813 627.8125,159.1563 628.2344,158.8906 C628.4219,158.7969 628.4219,158.7969 628.875,158.3125 C629.0625,158.125 629.2656,158.0469 629.4844,158.0469 C629.9531,158.0469 630.3438,158.4375 630.3438,158.8906 C630.3438,159.2813 630.0156,159.7344 629.4375,160.1406 C628.6875,160.6875 627.5313,160.9844 626.3125,160.9844 C623.4219,160.9844 621.3125,159.0938 621.3125,156.5156 L621.3125,155.3906 C621.3125,152.6719 623.3125,150.5938 625.9375,150.5938 C626.8125,150.5938 627.4063,150.7344 628.3438,151.1719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="98" x="640" y="159.6543">FileInputStream</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="612" x2="740" y1="171.5" y2="171.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="612" x2="740" y1="179.5" y2="179.5"/><!--class StringBufferInputStream--><rect fill="#FEFECE" filter="url(#f1ikktum783ajs)" height="48" id="StringBufferInputStream" style="stroke: #A80036; stroke-width: 1.5;" width="183" x="776.5" y="139.5"/><ellipse cx="791.5" cy="155.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M793.8438,151.1719 L794.0156,151.25 C794.2344,150.9375 794.4375,150.8438 794.7344,150.8438 C795.0313,150.8438 795.3125,150.9844 795.4688,151.25 C795.5625,151.4063 795.5781,151.5313 795.5781,151.9688 L795.5781,153.3906 C795.5781,153.8125 795.5469,154 795.4375,154.1563 C795.2656,154.375 795,154.5156 794.7344,154.5156 C794.5156,154.5156 794.2813,154.4063 794.1406,154.2656 C794,154.1406 793.9688,154.0156 793.9063,153.6094 C793.8125,153.2031 793.6406,152.9844 793.1563,152.7031 C792.6875,152.4531 792.0781,152.2969 791.5,152.2969 C789.7656,152.2969 788.5156,153.6094 788.5156,155.3906 L788.5156,156.4844 C788.5156,158.1875 789.8125,159.2813 791.8594,159.2813 C792.625,159.2813 793.3125,159.1563 793.7344,158.8906 C793.9219,158.7969 793.9219,158.7969 794.375,158.3125 C794.5625,158.125 794.7656,158.0469 794.9844,158.0469 C795.4531,158.0469 795.8438,158.4375 795.8438,158.8906 C795.8438,159.2813 795.5156,159.7344 794.9375,160.1406 C794.1875,160.6875 793.0313,160.9844 791.8125,160.9844 C788.9219,160.9844 786.8125,159.0938 786.8125,156.5156 L786.8125,155.3906 C786.8125,152.6719 788.8125,150.5938 791.4375,150.5938 C792.3125,150.5938 792.9063,150.7344 793.8438,151.1719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="151" x="805.5" y="159.6543">StringBufferInputStream</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="777.5" x2="958.5" y1="171.5" y2="171.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="777.5" x2="958.5" y1="179.5" y2="179.5"/><!--class ByteArrayInputStream--><rect fill="#FEFECE" filter="url(#f1ikktum783ajs)" height="48" id="ByteArrayInputStream" style="stroke: #A80036; stroke-width: 1.5;" width="168" x="995" y="139.5"/><ellipse cx="1010" cy="155.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1012.3438,151.1719 L1012.5156,151.25 C1012.7344,150.9375 1012.9375,150.8438 1013.2344,150.8438 C1013.5313,150.8438 1013.8125,150.9844 1013.9688,151.25 C1014.0625,151.4063 1014.0781,151.5313 1014.0781,151.9688 L1014.0781,153.3906 C1014.0781,153.8125 1014.0469,154 1013.9375,154.1563 C1013.7656,154.375 1013.5,154.5156 1013.2344,154.5156 C1013.0156,154.5156 1012.7813,154.4063 1012.6406,154.2656 C1012.5,154.1406 1012.4688,154.0156 1012.4063,153.6094 C1012.3125,153.2031 1012.1406,152.9844 1011.6563,152.7031 C1011.1875,152.4531 1010.5781,152.2969 1010,152.2969 C1008.2656,152.2969 1007.0156,153.6094 1007.0156,155.3906 L1007.0156,156.4844 C1007.0156,158.1875 1008.3125,159.2813 1010.3594,159.2813 C1011.125,159.2813 1011.8125,159.1563 1012.2344,158.8906 C1012.4219,158.7969 1012.4219,158.7969 1012.875,158.3125 C1013.0625,158.125 1013.2656,158.0469 1013.4844,158.0469 C1013.9531,158.0469 1014.3438,158.4375 1014.3438,158.8906 C1014.3438,159.2813 1014.0156,159.7344 1013.4375,160.1406 C1012.6875,160.6875 1011.5313,160.9844 1010.3125,160.9844 C1007.4219,160.9844 1005.3125,159.0938 1005.3125,156.5156 L1005.3125,155.3906 C1005.3125,152.6719 1007.3125,150.5938 1009.9375,150.5938 C1010.8125,150.5938 1011.4063,150.7344 1012.3438,151.1719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="136" x="1024" y="159.6543">ByteArrayInputStream</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="996" x2="1162" y1="171.5" y2="171.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="996" x2="1162" y1="179.5" y2="179.5"/><!--class FilterInputStream--><rect fill="#FEFECE" filter="url(#f1ikktum783ajs)" height="60.8047" id="FilterInputStream" style="stroke: #A80036; stroke-width: 1.5;" width="140" x="436" y="133"/><ellipse cx="451" cy="149" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M453.3438,144.6719 L453.5156,144.75 C453.7344,144.4375 453.9375,144.3438 454.2344,144.3438 C454.5313,144.3438 454.8125,144.4844 454.9688,144.75 C455.0625,144.9063 455.0781,145.0313 455.0781,145.4688 L455.0781,146.8906 C455.0781,147.3125 455.0469,147.5 454.9375,147.6563 C454.7656,147.875 454.5,148.0156 454.2344,148.0156 C454.0156,148.0156 453.7813,147.9063 453.6406,147.7656 C453.5,147.6406 453.4688,147.5156 453.4063,147.1094 C453.3125,146.7031 453.1406,146.4844 452.6563,146.2031 C452.1875,145.9531 451.5781,145.7969 451,145.7969 C449.2656,145.7969 448.0156,147.1094 448.0156,148.8906 L448.0156,149.9844 C448.0156,151.6875 449.3125,152.7813 451.3594,152.7813 C452.125,152.7813 452.8125,152.6563 453.2344,152.3906 C453.4219,152.2969 453.4219,152.2969 453.875,151.8125 C454.0625,151.625 454.2656,151.5469 454.4844,151.5469 C454.9531,151.5469 455.3438,151.9375 455.3438,152.3906 C455.3438,152.7813 455.0156,153.2344 454.4375,153.6406 C453.6875,154.1875 452.5313,154.4844 451.3125,154.4844 C448.4219,154.4844 446.3125,152.5938 446.3125,150.0156 L446.3125,148.8906 C446.3125,146.1719 448.3125,144.0938 450.9375,144.0938 C451.8125,144.0938 452.4063,144.2344 453.3438,144.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="108" x="465" y="153.1543">FilterInputStream</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="437" x2="575" y1="165" y2="165"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="442" y="179.2104">//抽象装饰者</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="437" x2="575" y1="185.8047" y2="185.8047"/><!--class PushbackInputStream--><rect fill="#FEFECE" filter="url(#f1ikktum783ajs)" height="60.8047" id="PushbackInputStream" style="stroke: #A80036; stroke-width: 1.5;" width="170" x="6" y="271"/><ellipse cx="21" cy="287" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M23.3438,282.6719 L23.5156,282.75 C23.7344,282.4375 23.9375,282.3438 24.2344,282.3438 C24.5313,282.3438 24.8125,282.4844 24.9688,282.75 C25.0625,282.9063 25.0781,283.0313 25.0781,283.4688 L25.0781,284.8906 C25.0781,285.3125 25.0469,285.5 24.9375,285.6563 C24.7656,285.875 24.5,286.0156 24.2344,286.0156 C24.0156,286.0156 23.7813,285.9063 23.6406,285.7656 C23.5,285.6406 23.4688,285.5156 23.4063,285.1094 C23.3125,284.7031 23.1406,284.4844 22.6563,284.2031 C22.1875,283.9531 21.5781,283.7969 21,283.7969 C19.2656,283.7969 18.0156,285.1094 18.0156,286.8906 L18.0156,287.9844 C18.0156,289.6875 19.3125,290.7813 21.3594,290.7813 C22.125,290.7813 22.8125,290.6563 23.2344,290.3906 C23.4219,290.2969 23.4219,290.2969 23.875,289.8125 C24.0625,289.625 24.2656,289.5469 24.4844,289.5469 C24.9531,289.5469 25.3438,289.9375 25.3438,290.3906 C25.3438,290.7813 25.0156,291.2344 24.4375,291.6406 C23.6875,292.1875 22.5313,292.4844 21.3125,292.4844 C18.4219,292.4844 16.3125,290.5938 16.3125,288.0156 L16.3125,286.8906 C16.3125,284.1719 18.3125,282.0938 20.9375,282.0938 C21.8125,282.0938 22.4063,282.2344 23.3438,282.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="138" x="35" y="291.1543">PushbackInputStream</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="175" y1="303" y2="303"/><ellipse cx="17" cy="314.9023" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="26" y="317.2104">InputStream in</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="175" y1="323.8047" y2="323.8047"/><!--class BufferedInputStream--><rect fill="#FEFECE" filter="url(#f1ikktum783ajs)" height="60.8047" id="BufferedInputStream" style="stroke: #A80036; stroke-width: 1.5;" width="162" x="326" y="271"/><ellipse cx="341" cy="287" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M343.3438,282.6719 L343.5156,282.75 C343.7344,282.4375 343.9375,282.3438 344.2344,282.3438 C344.5313,282.3438 344.8125,282.4844 344.9688,282.75 C345.0625,282.9063 345.0781,283.0313 345.0781,283.4688 L345.0781,284.8906 C345.0781,285.3125 345.0469,285.5 344.9375,285.6563 C344.7656,285.875 344.5,286.0156 344.2344,286.0156 C344.0156,286.0156 343.7813,285.9063 343.6406,285.7656 C343.5,285.6406 343.4688,285.5156 343.4063,285.1094 C343.3125,284.7031 343.1406,284.4844 342.6563,284.2031 C342.1875,283.9531 341.5781,283.7969 341,283.7969 C339.2656,283.7969 338.0156,285.1094 338.0156,286.8906 L338.0156,287.9844 C338.0156,289.6875 339.3125,290.7813 341.3594,290.7813 C342.125,290.7813 342.8125,290.6563 343.2344,290.3906 C343.4219,290.2969 343.4219,290.2969 343.875,289.8125 C344.0625,289.625 344.2656,289.5469 344.4844,289.5469 C344.9531,289.5469 345.3438,289.9375 345.3438,290.3906 C345.3438,290.7813 345.0156,291.2344 344.4375,291.6406 C343.6875,292.1875 342.5313,292.4844 341.3125,292.4844 C338.4219,292.4844 336.3125,290.5938 336.3125,288.0156 L336.3125,286.8906 C336.3125,284.1719 338.3125,282.0938 340.9375,282.0938 C341.8125,282.0938 342.4063,282.2344 343.3438,282.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="130" x="355" y="291.1543">BufferedInputStream</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="327" x2="487" y1="303" y2="303"/><ellipse cx="337" cy="314.9023" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="346" y="317.2104">InputStream in</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="327" x2="487" y1="323.8047" y2="323.8047"/><!--class DataInputStream--><rect fill="#FEFECE" filter="url(#f1ikktum783ajs)" height="60.8047" id="DataInputStream" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="535.5" y="271"/><ellipse cx="550.5" cy="287" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M552.8438,282.6719 L553.0156,282.75 C553.2344,282.4375 553.4375,282.3438 553.7344,282.3438 C554.0313,282.3438 554.3125,282.4844 554.4688,282.75 C554.5625,282.9063 554.5781,283.0313 554.5781,283.4688 L554.5781,284.8906 C554.5781,285.3125 554.5469,285.5 554.4375,285.6563 C554.2656,285.875 554,286.0156 553.7344,286.0156 C553.5156,286.0156 553.2813,285.9063 553.1406,285.7656 C553,285.6406 552.9688,285.5156 552.9063,285.1094 C552.8125,284.7031 552.6406,284.4844 552.1563,284.2031 C551.6875,283.9531 551.0781,283.7969 550.5,283.7969 C548.7656,283.7969 547.5156,285.1094 547.5156,286.8906 L547.5156,287.9844 C547.5156,289.6875 548.8125,290.7813 550.8594,290.7813 C551.625,290.7813 552.3125,290.6563 552.7344,290.3906 C552.9219,290.2969 552.9219,290.2969 553.375,289.8125 C553.5625,289.625 553.7656,289.5469 553.9844,289.5469 C554.4531,289.5469 554.8438,289.9375 554.8438,290.3906 C554.8438,290.7813 554.5156,291.2344 553.9375,291.6406 C553.1875,292.1875 552.0313,292.4844 550.8125,292.4844 C547.9219,292.4844 545.8125,290.5938 545.8125,288.0156 L545.8125,286.8906 C545.8125,284.1719 547.8125,282.0938 550.4375,282.0938 C551.3125,282.0938 551.9063,282.2344 552.8438,282.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="107" x="564.5" y="291.1543">DataInputStream</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="536.5" x2="673.5" y1="303" y2="303"/><ellipse cx="546.5" cy="314.9023" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="555.5" y="317.2104">InputStream in</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="536.5" x2="673.5" y1="323.8047" y2="323.8047"/><!--class LineNumberInputStream--><rect fill="#FEFECE" filter="url(#f1ikktum783ajs)" height="60.8047" id="LineNumberInputStream" style="stroke: #A80036; stroke-width: 1.5;" width="183" x="807.5" y="271"/><ellipse cx="822.5" cy="287" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M824.8438,282.6719 L825.0156,282.75 C825.2344,282.4375 825.4375,282.3438 825.7344,282.3438 C826.0313,282.3438 826.3125,282.4844 826.4688,282.75 C826.5625,282.9063 826.5781,283.0313 826.5781,283.4688 L826.5781,284.8906 C826.5781,285.3125 826.5469,285.5 826.4375,285.6563 C826.2656,285.875 826,286.0156 825.7344,286.0156 C825.5156,286.0156 825.2813,285.9063 825.1406,285.7656 C825,285.6406 824.9688,285.5156 824.9063,285.1094 C824.8125,284.7031 824.6406,284.4844 824.1563,284.2031 C823.6875,283.9531 823.0781,283.7969 822.5,283.7969 C820.7656,283.7969 819.5156,285.1094 819.5156,286.8906 L819.5156,287.9844 C819.5156,289.6875 820.8125,290.7813 822.8594,290.7813 C823.625,290.7813 824.3125,290.6563 824.7344,290.3906 C824.9219,290.2969 824.9219,290.2969 825.375,289.8125 C825.5625,289.625 825.7656,289.5469 825.9844,289.5469 C826.4531,289.5469 826.8438,289.9375 826.8438,290.3906 C826.8438,290.7813 826.5156,291.2344 825.9375,291.6406 C825.1875,292.1875 824.0313,292.4844 822.8125,292.4844 C819.9219,292.4844 817.8125,290.5938 817.8125,288.0156 L817.8125,286.8906 C817.8125,284.1719 819.8125,282.0938 822.4375,282.0938 C823.3125,282.0938 823.9063,282.2344 824.8438,282.6719 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="151" x="836.5" y="291.1543">LineNumberInputStream</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="808.5" x2="989.5" y1="303" y2="303"/><ellipse cx="818.5" cy="314.9023" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="827.5" y="317.2104">InputStream in</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="808.5" x2="989.5" y1="323.8047" y2="323.8047"/><!--link InputStream to FileInputStream--><path d="M742.776,72.422 C726.618,94.219 707.09,120.561 693.338,139.112 " fill="none" id="InputStream-FileInputStream" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="737.303,68.05,754.837,56.152,748.55,76.387,737.303,68.05" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="734" y="99.0669">直接实现</text><!--link InputStream to StringBufferInputStream--><path d="M801.224,72.422 C817.382,94.219 836.91,120.561 850.662,139.112 " fill="none" id="InputStream-StringBufferInputStream" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="795.45,76.387,789.163,56.152,806.697,68.05,795.45,76.387" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="824" y="99.0669">直接实现</text><!--link InputStream to ByteArrayInputStream--><path d="M845.14,63.852 C900.218,87.085 974.519,118.427 1024.46,139.494 " fill="none" id="InputStream-ByteArrayInputStream" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="842.239,70.226,826.532,56.003,847.68,57.326,842.239,70.226" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="936" y="99.0669">直接实现</text><!--link InputStream to FilterInputStream--><path d="M698.115,62.939 C681.181,70.183 663.354,78.119 647,86 C616.894,100.508 584.03,118.224 557.61,132.953 " fill="none" id="InputStream-FilterInputStream" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="695.58,56.411,716.728,55.093,701.018,69.312,695.58,56.411" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="648" y="99.0669">装饰者继承</text><!--link FilterInputStream to PushbackInputStream--><path d="M415.818,167.391 C314.656,172.457 158.946,186.311 115,224 C101.4756,235.5989 95.4756,254.7239 92.8567,270.9492 " fill="none" id="FilterInputStream-PushbackInputStream" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="415.594,160.394,435.895,166.464,416.239,174.379,415.594,160.394" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="274" x="116" y="237.0669">拓展了“数据输入流”下标置头，也就是重置功能</text><!--link FilterInputStream to BufferedInputStream--><path d="M419.765,204.584 C413.587,210.304 408.163,216.752 404,224 C395.99,237.946 396.222,255.799 398.694,270.7502 " fill="none" id="FilterInputStream-BufferedInputStream" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="415.728,198.857,435.838,192.181,424.281,209.941,415.728,198.857" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="156" x="405" y="237.0669">拓展了缓冲输入来改进性能</text><!--link FilterInputStream to DataInputStream--><path d="M553.88,209.074 C558.191,213.931 562.313,218.949 566,224 C576.547,238.4494 585.775,256.1616 592.604,270.9027 " fill="none" id="FilterInputStream-DataInputStream" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="548.502,213.577,539.771,194.269,558.636,203.918,548.502,213.577" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="252" x="578" y="237.0669">拓展了从“数据输入流”中读取“int类型”的值</text><!--link FilterInputStream to LineNumberInputStream--><path d="M596.033,193.776 C705.215,213.473 748.31,172.851 839,224 C858.112,234.7793 873.286,254.3382 883.593,270.9802 " fill="none" id="FilterInputStream-LineNumberInputStream" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="594.57,200.622,576.398,189.723,597.4,186.911,594.57,200.622" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="861" y="237.0669">拓展了计算行数的能力</text><!--
@startuml
interface InputStream{
}
class FileInputStream{
}
class StringBufferInputStream{
}
class ByteArrayInputStream{
}
class FilterInputStream{
//抽象装饰者
}
class PushbackInputStream{
+InputStream in
}
class BufferedInputStream{
+InputStream in
}
class DataInputStream{
+InputStream in
}
class LineNumberInputStream{
+InputStream in
}
FileInputStream -up-|>InputStream:直接实现
StringBufferInputStream -up-|>InputStream:直接实现
ByteArrayInputStream -up-|>InputStream:直接实现
FilterInputStream -up-|>InputStream:装饰者继承
PushbackInputStream -up-|>FilterInputStream:拓展了“数据输入流”下标置头，也就是重置功能
BufferedInputStream -up-|>FilterInputStream:拓展了缓冲输入来改进性能
DataInputStream -up-|>FilterInputStream:拓展了从“数据输入流”中读取“int类型”的值
LineNumberInputStream -up-|>FilterInputStream:拓展了计算行数的能力
@enduml
--></g></svg>