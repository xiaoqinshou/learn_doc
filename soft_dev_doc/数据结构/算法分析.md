[toc]
# 算法分析
## 算法
&emsp; **算法(algorithm)** 是为了求解一个问题所需要遵循的、被清楚指定的简单指令的集合。

## 数学基础
估算算法所消耗资源，规定以下数学定义：
1. 如果存在正常数 $c$ 和 $n_0$ 使得当 $N\geq n_0$ 时 $T(N)\leq cf(N)$,则记为 $T(N)=O(f(N))$，说明 $T(N)$ 的增长率小于或等于 $f(N)$ 的增长率
&nbsp;
2. 如果存在正常数 $c$ 和 $n_0$ 使得当 $N\geq n_0$ 时 $T(N)\geq cg(N)$,则记为 $T(N)=\Omega(g(N))$，说明 $T(N)$ 的增长率大于或等于 $g(N)$ 的增长率
&nbsp;
3. $T(N)=\Theta(h(N))$ 当且仅当 $T(N)=cf(N)$ 和 $T(N)=cg(N)$, 说明 $T(N)$ 的增长率等于 $h(N)$ 的增长率
&nbsp;
4. 如果对每一正常数 $c$ 都存在 $n_0$ 使得当 $N\geq n_0$ 时 $T(N)\leq cp(N)$,则记为 $T(N)=o(p(N))$。有时也可以说，如果 $T(N)=O(p(N))$ 且 $T(N)\neq \Theta(p(N))$ ,则 $T(N)=o(p(N))$, 说明 $T(N)$ 的增长率小于 $p(N)$ 的增长率
* 定义以上定义主要是对比两个函数的**相对增长率(relative rate of growth)**

例如： 
有以下函数:
$T(N)=1000N,f(N)=N^2$
设正常数 $c=1$
根据定义可得: 存在$n_0\geq 1000$ 时
任意的$N\geq n_0$ 使得 $T(N)\leq f(N)$
则称：$1000N=O(N^2)$ 或 $N^2=\Omega (1000N)$
其他定义，均可同理证得。

以上增长率计算符合以下法则：
* 如果 $T_1(N)=O(f(N))$ 且 $T_2(N)=O(g(N))$ 那么
1. $T_1(N)+T_2(N)=O(f(N)+g(N))$ (直观地和非正式的可以写成 $max(O(f(N)),O(g(N)))$)
2. $T_1(N)*T_2(N)=O(f(N)*g(N))$
&nbsp;

* 如果 $T(N)$ 是一个 $k$ 次多项式， 则 $T(N)=\Theta(N^k)$
&nbsp;
* 对任意常数 $k$, $\log^kN=O(N)$, 它告诉我们对数增长的非常缓慢。
&nbsp;
* 典型函数的增长率

函数|名称
:-:|:-:
$c$|常数
$\log N$|对数
$\log^2 N$|对数二次方
$N$|线性
$N\log N$|
$N^2$|二次
$N^3$|三次
$2^N$|指数

## 程序运行时间的计算
```java
public static int sum(int n){
    int partialSum=0;
    for(int i=1;i<=n;i++){
        partialSum+=i*i*i;
    }
    return partialSum;
}
```
* 由代码可看出来其实就是计算 $\sum^N_{i=1} i^3$ 的值。
假设所有的声明均不占用单位时间。则有以下推论：
第二，第三，第六行的代码赋值，返回各占用一个单位时间，4个时间单位。
第四行，总共执行了两个乘法，一个加法，一个赋值，总共占用4个时间单位,执行 $N$ 次就是 4N 个时间单位。
第三行，测试$i\leq N$ 执行一次消耗一个时间单位，也就是共要执行 $N+1$ 次，也就是 N+1 个时间单位， 同理 $i$ 自增也需要消耗 N+1 个时间单位。
总消耗就是 $6N+6$ 个时间单位。因此我们说该方法是 $O(N)$

## 递归程序运行时间分析
```java
public static long fib(int n){
    if(n<=1){
        return 1;
    }else{
        return fib(n-1)+fib(n-2);
    }
}
```
由以上程序就可知，该程序的运行时间公式如下：
* $T(N)=T(N-1)+T(N-2)+2$ 其中常数 2 代表 代码中第二行的判断和第四行的两数相加
* 但是函数公式可得$fib(N)=fib(N-1)+fib(N-2)$ ，因此由归纳法容易证明 $T(N)\geq fib(N)$
* 证明：由函数可得
$fib(0) = 1$,$fib(1) = 1$,$fib(2) = 2$,$fib(3) = 3$,$fib(4) = 5$ 
设：常数 $t$ 为该函数的基准型
假设该函数符合 $fib(N)<t^N$
则有：$fib(N)<t^{N-1}+t^{N-2}$
化简得：$fib(N)<\frac{t+1}{t^2}t^{N}$
若要使假设成立则必须满足 $\frac{t+1}{t^2}\leq 1, t>0$ 
解得 $t>\frac{1+\sqrt5}{2}>1$
所以，当该函数呈指数得速度增长。
