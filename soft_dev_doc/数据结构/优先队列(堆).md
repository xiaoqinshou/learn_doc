# 优先队列(堆)
> 在多用户环境中，操作系统调度程序必须决定在若干个进程中运行哪个进程。一般一个进程只被允许运行一个固定的时间片。一般来说，短的作业要尽可能的快地结束，这一点很重要，因此在已经运行的作业当中这些短作业应该拥有优先权。此外，有些作业虽不短小但很重要，也应该拥有优先权。
* 这种特殊的应用似乎需要一类特殊地队列，称之为**优先队列(priority queue)**

## 模型
* 优先队列是允许至少下列两种操作的数据结构：
  1. insert(插入)
  2. deleteMin(删除最小值)/deleteMax(删除最大值)
* 满足以上条件的模型，都是优先队列的基本模型
* 在**贪婪算法(greedy algorithm)**的实现方面优先队列起到了重要的作用

## 二叉堆
* 实现优先队列最普遍的数据结构

### 结构性质
* 堆是一棵完全被填满的二叉树(有可能底层最后有一个节点没填满)
* 容易证明，一棵高为 $h$ 的二叉树有 $2^{h}$ 到 $2^{h+1}$ 个节点。这意味着完全二叉树的高为 $\log N$, 显然时间复杂度为 $O(\log N)$
* 因为完全二叉树非常有规律，所以它可以用一个数组表示，不需要使用链，对于任一位置 $i$ 上的元素，其左儿子在 $2i$ 上，右儿子在 $2i+1$ 上，父亲则在$\frac{i}{2}$ 上。

### 堆序性质
* 让操作快速执行的性质是**堆序性质(heap-order property)**。
* 由于我们想要快速找出最小元素，因此最小元素应该在根上面
* 考虑任意字数也应该是一个堆，那么任意节点就应该小于它的所有后裔

